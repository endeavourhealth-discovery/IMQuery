<template>
  <div class="clause-editor__label flex flex-col">
    <div class="font-semibold text-black">Label</div>
    <textarea
      placeholder="Autogenerated title"
      :value="modelValue['rdfs:label']"
    >
    </textarea>
    <div class="font-semibold text-black">Description</div>
    <textarea
      placeholder="InterpolatedTemplate"
      :value="queryBuilder.interpolatedTemplate"
    >
    </textarea>
    <div class="font-semibold text-black">Template</div>
    <textarea placeholder="template" :value="queryBuilder.activeTemplate">
    </textarea>
    <div class="font-semibold text-black">Clause</div>
    <textarea class="w-full" :value="JSON.stringify(modelValue)"> </textarea>
    <button @click="test()">Flatten</button>
  </div>
</template>

<script lang="ts">
import { ref, onMounted, defineComponent } from "vue";
const { v4 } = require("uuid");
import SectionToggler from "@/components/dataset/SectionToggler.vue";
import InputDescription from "@/components/dataset/InputDescription.vue";
import QueryTools from "@/models/query/QueryTools";

// import Constraint from "@/components/dataset/Constraint.vue";
// import HeroIcon from "@/components/search/HeroIcon.vue";

export default defineComponent({
  name: "ClauseEditor",
  props: ["modelValue"],
  // emits: ["update:modelValue"], 
  components: {
    // InputDescription,
  },
  data() {
    return {
      interpolatedTemplate: "d",
      inputMeta: {
        label: {
          title: "Name",
          explanation:
            "<b>Purpose</b><br>Label your search criteria with a name",
          placeholder: "Enter a Name",
        },
      },
    };
  },
  methods: {
    test(): void {
      QueryTools.flattenObject(this.modelValue);
    },
  },
  computed: {
    InterpolatedTemplate: {
      get(): any {
        return this.interpolatedTemplate;
      },
      set(value: any): void {
        this.interpolatedTemplate = value;
      },
    },
    queryBuilder: {
      get(): any {
        return this.$store.state.queryBuilder;
      },
      set({ action, payload }: any): void {
        this.$store.commit("queryBuilder", {
          action: action,
          payload: payload,
        });
      },
    },
  },
});
</script>

<style scoped>
.non-selectable {
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */
  -ms-user-select: none; /* IE 10+ */
  user-select: none; /* Likely future */
}
</style>
